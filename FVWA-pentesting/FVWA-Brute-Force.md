## [1 ЗАДАНИЕ - Brute Force GET запрос]
Шаг1 Для начала переходим в директорию со скаченным FVWA (cd FVWA)
Шаг 2 Так как докер установлен, контейнер создан, осталось запустить файл с инструкциями (docker-compose up -d)
Шаг 3 Перейти в браузер и перейти на адрес http://127.0.0.1:5000
Шаг 4 Выбираю первый таск 
## 
Для начала вводим рандомный логин и пароль. Конечно же, они неверны. Тогда переходим в инструменты разработчика во складку сети.
Видно, что введенные логин и пароль передеются открыто в теле URL (http://getbrute?username=login&password=pass) - это огромная уязвимость - передавать конфиденциальные данные через GET запрос.

![3c5ff48a-0bbb-42f4-84e3-f5434c9abfdd](https://github.com/user-attachments/assets/fc1fe230-ec6b-41fb-9c71-974f72865aa5)

Далее я использовала инструмент hydra и создала два словаря с логинами и паролями
(echo -e "admin\nadministrator\nuser...."
\n для перехода к новой строке)
Запустила гидру следующей командой:
```bash
hydra -L user.txt -P password.txt localhost -s 5001 http-get-form "/getbrute:username=^USER^&password=^PASS^F=Incorrect credentials"
```
Это первая пробная попытка. После словари можно расширить вручную или использовать встроенные (rockyou.txt, например)

Чтобы проверить все словари, надо ввести:
```bash
ls /usr/share/wordlists
sudo gzip -d /usr/share/wordlists/rockyou.txt.gz
```
Но после запуска гидра не находит успешных пар логин-пароль и вот почему:
В ЧЕМ БЫЛА ПРОБЛЕМА: брутфорс атака была невозможна, потому что:
- одинаковые http статусы (при любой попытке входа 200 OK)
- идентичные размеры ответов
- одинаковое содержимое
- одинаковое время ответа
- отсутствие редиректов (никаких 302 при успехе)

Зашита в стиле капча на входе, блокировка айпи, требование сложных паролей, ограничение скорости запросов - это ПРЕДОТВРАЩЕНИЕ АВТОМАТИЗАЦИИ
А способ выше - УСТРАНЕНИЕ ИНФОРМАЦИОННЫХ УТЕЧЕК
## 
В реальности хакер сталкивается с той же проблемой. У него есть: Целевой сайт, инструмента, словари
У него нет: Верных учетных данных, разницы между успехом\ошибкой, обратной связи

Что делает хакер? Он регестрируется сам - создает эталон для сравнения

##
Далее, решая задание, я заметила подсказку в коде HTML. В ней говорилось о том, что логин - admin, а словарь для подбора пороля.
Теперь я использую инструмент ffuf из-за его гибкости. В его фильтрах использую куки с сайта (АКТУАЛЬНЫЙ)
```bash
ffuf -u "http://127.0.0.1:5000/getbrute?useername=admin&password=FUZZ" -w /usr/share/SecLists/Passwords/Common-Credentials/xato-net-10-million-passwords-1000000.txt -fs 3966 -t 400 -b "score=тут актуальный куки" -fc 403 -s
```
**Справка:** поняла ошибку, почему фаф не выводил пароли. Он их находил, но они терялись в потоке других попыток. Я добавила параметр -s и фаф выводит исключительно найденные пароли.
параметр -t 400 - указание использовать 400 потоков для ускорения процесса (иногда это может перегружать сервер, использовать осторожно)
-b - значение куки
-fs - фильтрация неуспешных авторизаций по длине возвращаемого ответа от сервера
-u - полный адрес запроса
-w - используемый список для перебора

Запускаю команду и получаю пароль musiclover (в подсказке в коде как раз речь была о музыке)

##
**Что будет если хакер и пользователь зайдут в аккаунт одновременно?**
**Сценарий 1:**
Чаще всего, при входе в аккаунт, сервер создает сессию (например, уникальный токен), который хранится в браузере в куках. 
Новая успешная авторизация может признать все предыдущие сессии недейтсвительными. То есть, если хакер вошел в систему первымЮ а потом зашел настоящий владелец, то сессия хакера сломается. Его просто выбростит из аккаунта с ошибкой устаревшей сессии.
Пользователь в таком случае может ничего и не заметить, а хакер догадается, что владелец в сети

**Сценарий 2:**
Во многих соц сетях разрешено несколько активных сессий (параллельные сессии). Это удобно: можно заходить в аккаунт с разных устройств.
Что в таком случае происходит: и хакер, и владелец находятся в аккаунте одновременно, ничего не подозревая
Как это заметить: мониторинг активных сессий. Если там есть неизвестное устройство - явный признак взлома. 

**Как заметить хакера, если он ничего не меняет, а только наблюдает?**
Таких злоумышленников сложнее всего обнаружить. Но можно использовать журнал действий. Во многих сервисах есть подробный лог, где записывается все:
- Просмотр писем, фото
- Время и IP с которых происходил доступ 
- Фильтрация или поиск в почте
- Если владелец видит там подозрительные действия (например, просмотр фото в 4 утра, когда он спал) - явный признак несанкционированного доступа
ГОТОВО! ФЛАГ В КАРМАНЕ!

## [ЗАДАНИЕ 2 - Brute Force POST запрос]

### Для справки - отличия GET и POST запросов

1. Значения передаваемых параметров.
гэт запрос передает на сервер информацию в параметрах, указанных в URL. Пост запрос отправляет данные в теле запроса.

2. Количество передаваемых данных
гэт запрос передает ограниченное количество (обычно не более 100 символов) информации в строке. В то же время пост запрос может передавать большое количество данных.

3. Кеширование
гэт запрос может быть сохранен в истории браузера и кеше, поэтому может быть вызван повторно. Пост запрос не сохраняется в кеше браузера.

4. Безопасность
гэт запросы могут представлять риск безопасности, когда параметры передаются через URL, так как адрес может быть доступен третьим лицам или в логах сервера. Пост запросы более безопасны.

5. Использование
гэт запросы используются для получения данных от сервера, например, для получения инфы из БД или для получения данных от API-интерфейсов. Пост запросы используются для отправки и обработки форм, загрузки файлов, отправки больших объемов данных на сервер.
##
Для решения данной задачи надо опять лезть в код HTML для поиска подсказок. Нахожу там комментарий, сообщающий про админа, который любит футбол и пароль находится в первых 10.000
В данном случае логин нам уже не известен. Поэтому надо определить две позиции для фаззинга:UFUZZ, PFUZZ. При объявление словарей через двоеточие указать, какой словарь будет использоваться для конкретной позиции. Также необходимо определить метод запроса черех -X POST. 

![21edf7d7-b946-44db-87dd-16fb12e227c6](https://github.com/user-attachments/assets/3d703261-8922-4f6f-bcdf-c20418218983)

Тут я также использую параметр -s и через некоторое время получаю ответ: ansible:newcastle.
ГОТОВО! ФЛАГ В КАРМАНЕ!

## [ЗАДАНИЕ 3 - Brute Force POST base64]

В этом задание почти как во втором, но с одним отличием - данные передаются в base64 формате. 
Сразу лезу в код, нахожу два комментария. Один ясно дает понять, что надо использовать словарь rockyou, а второй, что логин - админ.

Здесь создатель приложения советует испльзовать инструмент WFUZZ, потому что он сразу позволяет кодировать в base64 все пароли из указанного словаря и уже потом подставлять в форму.

**Ключевые отличия от обычного брутфорса**
username=admin&password=12345  - это обычный запрос
FjfjsjdflsjIFISoipIPEirpiwefi?lfjnhjshdIUIUFDjef3   - запрос base64

![7e78929c-56e2-43e4-956f-e74a3a5fecfc](https://github.com/user-attachments/assets/7117dda2-488e-4fd3-a1f7-370bf4a4b0c5)

Остается подождать и получить найденный пароль.
Ради интереса решила расшифровать его командой
```bash
echo "ZG9nZG9n" | base64 -d
```
и получила: dogdog

