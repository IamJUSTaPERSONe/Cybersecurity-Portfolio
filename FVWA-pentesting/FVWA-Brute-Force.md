## [1 ЗАДАНИЕ - Brute Force GET запрос]
Шаг1 Для начала переходим в директорию со скаченным FVWA (cd FVWA)
Шаг 2 Так как докер установлен, контейнер создан, осталось запустить файл с инструкциями (docker-compose up -d)
Шаг 3 Перейти в браузер и перейти на адрес http://127.0.0.1:5000
Шаг 4 Выбираю первый таск 
## 
Для начала вводим рандомный логин и пароль. Конечно же, они неверны. Тогда переходим в инструменты разработчика во складку сети.
Видно, что введенные логин и пароль передеются открыто в теле URL (http://getbrute?username=login&password=pass) - это огромная уязвимость - передавать конфиденциальные данные через GET запрос.

Далее я использовала инструмент hydra и создала два словаря с логинами и паролями
(echo -e "admin\nadministrator\nuser...."
\n для перехода к новой строке)
Запустила гидру следующей командой:
```bash
hydra -L user.txt -P password.txt localhost -s 5001 http-get-form "/getbrute:username=^USER^&password=^PASS^F=Incorrect credentials"
```
Это первая пробная попытка. После словари можно расширить вручную или использовать встроенные (rockyou.txt, например)

Чтобы проверить все словари, надо ввести:
```bash
ls /usr/share/wordlists
sudo gzip -d /usr/share/wordlists/rockyou.txt.gz
```
Но после запуска гидра не находит успешных пар логин-пароль и вот почему:
В ЧЕМ БЫЛА ПРОБЛЕМА: брутфорс атака была невозможна, потому что:
- одинаковые http статусы (при любой попытке входа 200 OK)
- идентичные размеры ответов
- одинаковое содержимое
- одинаковое время ответа
- отсутствие редиректов (никаких 302 при успехе)

Зашита в стиле капча на входе, блокировка айпи, требование сложных паролей, ограничение скорости запросов - это ПРЕДОТВРАЩЕНИЕ АВТОМАТИЗАЦИИ
А способ выше - УСТРАНЕНИЕ ИНФОРМАЦИОННЫХ УТЕЧЕК

В реальности хакер сталкивается с той же проблемой. У него есть: Целевой сайт, инструмента, словари
У него нет: Верных учетных данных, разницы между успехом\ошибкой, обратной связи

Что делает хакер? Он регестрируется сам - создает эталон для сравнения


Далее, решая задание, я заметила подсказку в коде HTML. В ней говорилось о том, что логин - admin, а словарь для подбора пороля.
Теперь я использую инструмент ffuf из-за его гибкости. В его фильтрах использую куки с сайта (АКТУАЛЬНЫЙ)
```bash
ffuf -u "http://127.0.0.1:5000/getbrute?useername=admin&password=FUZZ" -w /usr/share/SecLists/Passwords/Common-Credentials/xato-net-10-million-passwords-1000000.txt -fs 3966 -t 400 -b "score=тут актуальный куки" -fc 403 -s
```
Справка: поняла ошибку, почему фаф не выводил пароли. Он их находил, но они терялись в потоке других попыток. Я добавила параметр -s и фаф выводит исключительно найденные пароли.
параметр -t 400 - указание использовать 400 потоков для ускорения процесса (иногда это может перегружать сервер, использовать осторожно)
-b - значение куки
-fs - фильтрация неуспешных авторизаций по длине возвращаемого ответа от сервера
-u - полный адрес запроса
-w - используемый список для перебора

Запускаю команду и получаю пароль musiclover (в подсказке в коде как раз речь была о музыке)


Что будет если хакер и пользователь зайдут в аккаунт одновременно?
Сценарий 1:
Чаще всего, при входе в аккаунт, сервер создает сессию (например, уникальный токен), который хранится в браузере в куках. 
Новая успешная авторизация может признать все предыдущие сессии недейтсвительными. То есть, если хакер вошел в систему первымЮ а потом зашел настоящий владелец, то сессия хакера сломается. Его просто выбростит из аккаунта с ошибкой устаревшей сессии.
Пользователь в таком случае может ничего и не заметить, а хакер догадается, что владелец в сети

Сценарий 2:
Во многих соц сетях разрешено несколько активных сессий (параллельные сессии). Это удобно: можно заходить в аккаунт с разных устройств.
Что в таком случае происходит: и хакер, и владелец находятся в аккаунте одновременно, ничего не подозревая
Как это заметить: мониторинг активных сессий. Если там есть неизвестное устройство - явный признак взлома. 

Как заметить хакера, если он ничего не меняет, а только наблюдает? 
Таких злоумышленников сложнее всего обнаружить. Но можно использовать журнал действий. Во многих сервисах есть подробный лог, где записывается все:
Просмотр писем, фото
Время и IP с которых происходил доступ 
Фильтрация или поиск в почте
Если владелец видит там подозрительные действия (например, просмотр фото в 4 утра, когда он спал) - явный признак несанкционированного доступа
